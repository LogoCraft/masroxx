<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dünya Saatleri</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* Ana yazı tipi olarak Inter kullanıyoruz, saat için Orbitron */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #1a202c; /* Koyu arka plan */
            color: #e2e8f0; /* Açık metin rengi */
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            box-sizing: border-box;
            overflow-x: hidden; /* Yatay kaydırmayı engelle */
        }

        /* Ana başlık stili */
        .main-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 3.5rem; /* Büyük başlık boyutu */
            font-weight: 700;
            color: #66e0ff; /* Parlak mavi */
            text-shadow: 0 0 15px rgba(102, 224, 255, 0.7), 0 0 25px rgba(102, 224, 255, 0.5);
            margin-bottom: 2.5rem; /* Alt boşluk */
            text-align: center;
        }

        /* Saatlerin genel kapsayıcısı */
        .clocks-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); /* Duyarlı grid yapısı, daha küçük başlangıç boyutu */
            gap: 1.5rem; /* Saatler arası boşluk */
            max-width: 1400px;
            width: 100%;
            justify-content: center;
            align-items: start;
        }

        /* Her bir saat kartının kapsayıcısı */
        .clock-container {
            background-color: #2d3748; /* Koyu gri kart arka planı */
            border-radius: 1.5rem; /* Yuvarlak köşeler */
            box-shadow: 0 10px 20px -5px rgba(0, 0, 0, 0.4); /* Derin gölge */
            padding: 1.5rem; /* İç boşluk */
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1rem; /* Öğeler arası boşluk */
            cursor: pointer; /* Tıklanabilir olduğunu belirtir */
            transition: transform 0.3s ease, box-shadow 0.3s ease, background-color 0.3s ease, opacity 0.3s ease; /* Yumuşak geçişler */
            position: relative; /* Z-index için */
            z-index: 1; /* Varsayılan z-index */
        }

        .clock-container:hover {
            transform: translateY(-5px); /* Hover efekti */
            box-shadow: 0 15px 30px -8px rgba(0, 0, 0, 0.6);
        }

        /* Şehir adı stili */
        .city-name {
            font-size: 1.5rem; /* Şehir adı font boyutu, daha küçük */
            font-weight: 700;
            color: #a0aec0; /* Açık gri */
            margin-bottom: 0.5rem;
        }

        /* Dijital saat stili */
        .digital-clock {
            font-family: 'Orbitron', sans-serif; /* Dijital saat için özel font */
            font-size: 2.2rem; /* Daha küçük font boyutu */
            font-weight: 700;
            color: #66e0ff; /* Parlak mavi */
            text-shadow: 0 0 8px rgba(102, 224, 255, 0.4), 0 0 12px rgba(102, 224, 255, 0.2); /* Neon efekti */
            letter-spacing: 0.05em; /* Harfler arası boşluk */
            padding: 0.3rem 0;
            border-bottom: 1px solid #4a5568; /* Alt çizgi */
            width: 100%;
        }

        /* Analog saat kapsayıcısı */
        .analog-clock-wrapper {
            position: relative;
            width: 180px; /* Saatin genişliği, daha küçük */
            height: 180px; /* Saatin yüksekliği, daha küçük */
            border-radius: 50%; /* Dairesel şekil */
            background-color: #f0f4f8; /* Açık renk saat yüzü */
            box-shadow: inset 0 0 8px rgba(0, 0, 0, 0.1), 0 0 15px rgba(0, 0, 0, 0.3); /* İç ve dış gölge */
            border: 5px solid #4a5568; /* Kalın dış kenarlık */
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* Saat merkez noktası */
        .analog-clock-wrapper::before {
            content: '';
            position: absolute;
            width: 12px; /* Daha küçük merkez nokta */
            height: 12px;
            background-color: #1a202c; /* Merkez nokta rengi */
            border-radius: 50%;
            z-index: 10;
            box-shadow: 0 0 6px rgba(0, 0, 0, 0.4);
        }

        /* Saat ibreleri için temel stil */
        .hand {
            position: absolute;
            transform-origin: bottom center; /* İbrelerin altından dönmesini sağlar */
            border-radius: 3px; /* Daha ince ibreler */
            z-index: 5;
        }

        /* Akrep (Saat ibresi) */
        .hour-hand {
            width: 5px;
            height: 50px; /* Daha kısa ibreler */
            background-color: #333;
            top: calc(50% - 50px);
            left: calc(50% - 2.5px);
        }

        /* Yelkovan (Dakika ibresi) */
        .minute-hand {
            width: 3px;
            height: 75px;
            background-color: #555;
            top: calc(50% - 75px);
            left: calc(50% - 1.5px);
        }

        /* Saniye ibresi */
        .second-hand {
            width: 1px;
            height: 85px;
            background-color: #ef4444; /* Kırmızı saniye ibresi */
            top: calc(50% - 85px);
            left: calc(50% - 0.5px);
            z-index: 6;
        }

        /* Sayı işaretleri için */
        .number {
            position: absolute;
            font-size: 0.9rem; /* Daha küçük sayılar */
            font-weight: 600;
            color: #4a5568;
            transform: translate(-50%, -50%);
        }

        /* Aktif (büyütülmüş) saat stili */
        .clock-container.active {
            position: fixed; /* Ekranın ortasına sabitler */
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(1.2); /* Büyütme oranı 1.4'ten 1.2'ye düşürüldü */
            z-index: 100; /* Diğer her şeyin üstünde görünür */
            box-shadow: 0 30px 60px -15px rgba(0, 0, 0, 0.7); /* Daha belirgin gölge */
            padding: 3rem; /* Daha fazla boşluk */
            width: auto; /* İçeriğe göre genişlik */
            max-width: 500px; /* Maksimum genişlik */
        }

        .clock-container.active .city-name {
            font-size: 2.5rem; /* Büyüyünce font boyutu */
        }
        .clock-container.active .digital-clock {
            font-size: 4rem; /* Büyüyünce font boyutu */
        }
        .clock-container.active .analog-clock-wrapper {
            width: 300px; /* Büyüyünce analog saat boyutu */
            height: 300px;
            border-width: 8px;
        }
        .clock-container.active .analog-clock-wrapper::before {
            width: 20px;
            height: 20px;
        }
        .clock-container.active .hour-hand {
            width: 8px;
            height: 80px;
            top: calc(50% - 80px);
            left: calc(50% - 4px);
        }
        .clock-container.active .minute-hand {
            width: 6px;
            height: 110px;
            top: calc(50% - 110px);
            left: calc(50% - 3px);
        }
        .clock-container.active .second-hand {
            width: 2px;
            height: 120px;
            top: calc(50% - 120px);
            left: calc(50% - 1px);
        }
        .clock-container.active .number {
            font-size: 1.2rem;
        }

        /* Arka plan karartma katmanı */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7); /* Yarı şeffaf siyah */
            z-index: 99; /* Büyüyen saatin altında, diğerlerinin üstünde */
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }

        .overlay.show {
            opacity: 1;
            visibility: visible;
        }

        /* Medya sorguları: Mobil uyumluluk */
        @media (max-width: 768px) {
            .main-title {
                font-size: 2.5rem;
                margin-bottom: 1.5rem;
            }
            .clocks-grid {
                grid-template-columns: 1fr; /* Mobil için tek sütun */
                gap: 1.5rem;
            }
            .clock-container {
                padding: 1rem;
                border-radius: 1rem;
            }
            .city-name {
                font-size: 1.2rem;
            }
            .digital-clock {
                font-size: 1.8rem;
            }
            .analog-clock-wrapper {
                width: 150px;
                height: 150px;
                border-width: 4px;
            }
            .analog-clock-wrapper::before {
                width: 10px;
                height: 10px;
            }
            .hour-hand {
                width: 4px;
                height: 40px;
                top: calc(50% - 40px);
                left: calc(50% - 2px);
            }
            .minute-hand {
                width: 2.5px;
                height: 60px;
                top: calc(50% - 60px);
                left: calc(50% - 1.25px);
            }
            .second-hand {
                width: 1px;
                height: 70px;
                top: calc(50% - 70px);
                left: calc(50% - 0.5px);
            }
            .number {
                font-size: 0.8rem;
            }

            /* Aktif (büyütülmüş) saat mobil stili */
            .clock-container.active {
                transform: translate(-50%, -50%) scale(1.1); /* Mobil için biraz daha az büyütme */
                padding: 2rem;
                max-width: 90%; /* Mobil ekranı aşmasını engelle */
            }
            .clock-container.active .city-name {
                font-size: 2rem;
            }
            .clock-container.active .digital-clock {
                font-size: 3rem;
            }
            .clock-container.active .analog-clock-wrapper {
                width: 250px;
                height: 250px;
                border-width: 6px;
            }
            .clock-container.active .analog-clock-wrapper::before {
                width: 16px;
                height: 16px;
            }
            .clock-container.active .hour-hand {
                width: 6px;
                height: 65px;
                top: calc(50% - 65px);
                left: calc(50% - 3px);
            }
            .clock-container.active .minute-hand {
                width: 4px;
                height: 95px;
                top: calc(50% - 95px);
                left: calc(50% - 2px);
            }
            .clock-container.active .second-hand {
                width: 1.5px;
                height: 105px;
                top: calc(50% - 105px);
                left: calc(50% - 0.75px);
            }
            .clock-container.active .number {
                font-size: 1.1rem;
            }
        }
    </style>
</head>
<body class="antialiased">
    <h1 class="main-title">Dünya Saatleri</h1>

    <div class="clocks-grid">
        <!-- Her bir saat için dinamik olarak eklenecek -->
    </div>

    <!-- Arka plan karartma katmanı -->
    <div class="overlay" id="overlay"></div>

    <script>
        // Saat verilerini tutacak dizi
        const clocksData = [
            { id: 'baku', name: 'Bakü, Azerbaycan', timeZone: 'Asia/Baku' },
            { id: 'istanbul', name: 'İstanbul, Türkiye', timeZone: 'Europe/Istanbul' },
            { id: 'karachi', name: 'Karaçi, Pakistan', timeZone: 'Asia/Karachi' },
            { id: 'new-york', name: 'New York, ABD', timeZone: 'America/New_York' },
            { id: 'berlin', name: 'Berlin, Almanya', timeZone: 'Europe/Berlin' },
            { id: 'tokyo', name: 'Tokyo, Japonya', timeZone: 'Asia/Tokyo' },
            { id: 'sydney', name: 'Sydney, Avustralya', timeZone: 'Australia/Sydney' },
            { id: 'london', name: 'Londra, İngiltere', timeZone: 'Europe/London' },
            { id: 'dubai', name: 'Dubai, BAE', timeZone: 'Asia/Dubai' } // Yeni eklenen ülke
        ];

        const clocksGrid = document.querySelector('.clocks-grid');
        const overlay = document.getElementById('overlay');
        let activeClock = null; // Aktif (büyütülmüş) saati takip etmek için

        // Her bir saat için HTML yapısını oluşturan fonksiyon
        function createClockHTML(clockInfo) {
            const clockContainer = document.createElement('div');
            clockContainer.classList.add('clock-container');
            clockContainer.id = `clock-container-${clockInfo.id}`; // ID ekle
            clockContainer.innerHTML = `
                <div class="city-name">${clockInfo.name}</div>
                <div id="digital-clock-${clockInfo.id}" class="digital-clock">00:00:00</div>
                <div class="analog-clock-wrapper">
                    <div class="hand hour-hand" id="hour-hand-${clockInfo.id}"></div>
                    <div class="hand minute-hand" id="minute-hand-${clockInfo.id}"></div>
                    <div class="hand second-hand" id="second-hand-${clockInfo.id}"></div>
                    <!-- Saat sayıları (12, 3, 6, 9) -->
                    <div class="number" style="top: 15%; left: 50%;">12</div>
                    <div class="number" style="top: 50%; right: 15%;">3</div>
                    <div class="number" style="bottom: 15%; left: 50%;">6</div>
                    <div class="number" style="top: 50%; left: 15%;">9</div>
                </div>
            `;
            clocksGrid.appendChild(clockContainer);

            // Tıklama olay dinleyicisi ekle
            clockContainer.addEventListener('click', () => toggleClockEnlargement(clockContainer));
        }

        // Tüm saatler için HTML yapısını oluştur
        clocksData.forEach(clock => {
            createClockHTML(clock);
        });

        // Belirli bir saat dilimi için saati güncelleyen fonksiyon
        function updateClock(clockInfo) {
            const now = new Date(); // Şu anki yerel zaman

            // Belirli bir zaman dilimine göre zamanı al
            const options = {
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit',
                hour12: false, // 24 saat formatı
                timeZone: clockInfo.timeZone
            };
            const timeString = now.toLocaleString('en-US', options); // Formatlanmış zaman stringi

            // Dijital saat elementini bul ve güncelle
            const digitalClockElement = document.getElementById(`digital-clock-${clockInfo.id}`);
            if (digitalClockElement) {
                digitalClockElement.textContent = timeString;
            }

            // Analog saat ibrelerini bul
            const hourHandElement = document.getElementById(`hour-hand-${clockInfo.id}`);
            const minuteHandElement = document.getElementById(`minute-hand-${clockInfo.id}`);
            const secondHandElement = document.getElementById(`second-hand-${clockInfo.id}`);

            if (hourHandElement && minuteHandElement && secondHandElement) {
                // Zaman dilimine göre saat, dakika, saniye değerlerini al
                const currentHours = parseInt(now.toLocaleString('en-US', { hour: 'numeric', hour12: false, timeZone: clockInfo.timeZone }));
                const currentMinutes = parseInt(now.toLocaleString('en-US', { minute: 'numeric', timeZone: clockInfo.timeZone }));
                const currentSeconds = parseInt(now.toLocaleString('en-US', { second: 'numeric', timeZone: clockInfo.timeZone }));

                // İbrelerin açılarını hesapla
                // Her saat 360/12 = 30 derece
                // Her dakika/saniye 360/60 = 6 derece
                const secondDegrees = (currentSeconds * 6) + 90; // +90 çünkü CSS transform başlangıcı 0 derece sağa bakar
                const minuteDegrees = (currentMinutes * 6) + (currentSeconds * 0.1) + 90; // Saniyelerden gelen küçük hareket
                const hourDegrees = (currentHours % 12 * 30) + (currentMinutes * 0.5) + 90; // Dakikalardan gelen küçük hareket

                secondHandElement.style.transform = `rotate(${secondDegrees}deg)`;
                minuteHandElement.style.transform = `rotate(${minuteDegrees}deg)`;
                hourHandElement.style.transform = `rotate(${hourDegrees}deg)`;
            }
        }

        // Saati büyütme/küçültme işlevi
        function toggleClockEnlargement(clickedClock) {
            if (activeClock && activeClock !== clickedClock) {
                // Başka bir saat zaten aktifse, onu küçült
                activeClock.classList.remove('active');
            }

            // Tıklanan saati büyüt/küçült
            clickedClock.classList.toggle('active');

            if (clickedClock.classList.contains('active')) {
                activeClock = clickedClock;
                overlay.classList.add('show'); // Arka planı karart
                // Aktif olmayan saatleri hafifçe soluklaştır
                document.querySelectorAll('.clock-container:not(.active)').forEach(clock => {
                    clock.style.opacity = '0.3';
                    clock.style.pointerEvents = 'none'; // Tıklamayı engelle
                });
            } else {
                activeClock = null;
                overlay.classList.remove('show'); // Arka planı eski haline getir
                // Tüm saatleri görünür yap ve tıklanabilir hale getir
                document.querySelectorAll('.clock-container').forEach(clock => {
                    clock.style.opacity = '1';
                    clock.style.pointerEvents = 'auto';
                });
            }
        }

        // Arka plana tıklayınca aktif saati kapat
        overlay.addEventListener('click', () => {
            if (activeClock) {
                toggleClockEnlargement(activeClock); // Aktif saati kapat
            }
        });

        // Sayfa yüklendiğinde ve her saniye tüm saatleri güncelle
        window.onload = function() {
            // İlk yüklemede tüm saatleri ayarla
            clocksData.forEach(clock => updateClock(clock));

            // Her saniye tüm saatleri güncelle
            setInterval(() => {
                clocksData.forEach(clock => updateClock(clock));
            }, 1000);
        };
    </script>
</body>
</html>
